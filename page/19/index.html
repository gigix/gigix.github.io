<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    

    <title>
        page 19 | 透明思考
    </title>

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    
    <meta name="author" content="Jeff Xiong">
    
    

    <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="page 19 | 透明思考">
<meta property="og:url" content="http://gigix.thoughtworkers.org/page/19/index.html">
<meta property="og:site_name" content="透明思考">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="page 19 | 透明思考">
<meta name="twitter:description">

    
    <link rel="alternate" href="/atom.xml" title="透明思考" type="application/atom+xml">
    
    
    <link rel="icon" type="image/x-icon" href="/favicon.png">
    
    <link rel="stylesheet" href="/css/uno.css" type="text/css">

    <script src="/js/jquery.min.js"></script>

</head>
<body>

    <span class="mobile btn-mobile-menu">
        <i class="icon icon-list btn-mobile-menu__icon"></i>
        <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
    </span>

    
<header class="panel-cover panel-cover--collapsed">

  <div class="panel-main">

    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        

        <h1 class="panel-cover__title panel-title"><a href="/" title="link to homepage">透明思考</a></h1>

        <hr class="panel-cover__divider" />
        <p class="panel-cover__description">
          Transparent Thoughts
        </p>
        <hr class="panel-cover__divider panel-cover__divider--secondary" />

        <div class="navigation-wrapper">

          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">

              
                
                <li class="navigation__item"><a href="/#blog" title="" class="blog-button">Blog</a></li>
              

            </ul>
          </nav>

          <!-- ----------------------------
To add a new social icon simply duplicate one of the list items from below
and change the class in the <i> tag to match the desired social network
and then add your link to the <a>. Here is a full list of social network
classes that you can use:

    icon-social-500px
    icon-social-behance
    icon-social-delicious
    icon-social-designer-news
    icon-social-deviant-art
    icon-social-digg
    icon-social-dribbble
    icon-social-facebook
    icon-social-flickr
    icon-social-forrst
    icon-social-foursquare
    icon-social-github
    icon-social-google-plus
    icon-social-hi5
    icon-social-instagram
    icon-social-lastfm
    icon-social-linkedin
    icon-social-medium
    icon-social-myspace
    icon-social-path
    icon-social-pinterest
    icon-social-rdio
    icon-social-reddit
    icon-social-skype
    icon-social-spotify
    icon-social-stack-overflow
    icon-social-steam
    icon-social-stumbleupon
    icon-social-treehouse
    icon-social-tumblr
    icon-social-twitter
    icon-social-vimeo
    icon-social-xbox
    icon-social-yelp
    icon-social-youtube
    icon-social-zerply
    icon-mail

------------------------------ -->

<nav class="cover-navigation navigation--social">
  <ul class="navigation">


  <!-- Github -->
  <li class="navigation__item">
    <a href="https://github.com/gigix" title="Gigix on GitHub" target="_blank">
      <i class='icon icon-social-github'></i>
      <span class="label">GitHub</span>
    </a>
  </li>

  </ul>
</nav>

          <script>
    function doSearch() {
        var keyword = $('#keyword').val();
        if (keyword.trim() === '') {
            window.location.href = 'http://gigix.thoughtworkers.org/#blog';
        } else {
            window.open('http://www.google.com/search?q=site:gigix.thoughtworkers.org+' + keyword);
        }
    }
</script>

<div class="search">
    <input id="keyword" type="text"/>
    <input type="button" value="Search" class="btn" onclick="doSearch()"/>
</div>


        </div>

      </div>

    </div>

    <div class="panel-cover--overlay"></div>
  </div>
</header>

    <div class="content-wrapper">
        <div class="content-wrapper__inner entry">
            


   <!-- do nothing -->


<div class="main-post-list">
    <ol class="post-list">
    
    
    <li class="post">

      <h2 class="post-list__post-title post-title"><a href="/2011/3/28/devops-at-xian/" title="link to 转战西安">转战西安</a></h2>

      <p class="excerpt">
        <p>上周末公司AwayDay，所有人来了西安。去兵马俑，唯一的乐趣就是拍一大堆<a href="http://www.flickr.com/photos/gigix/sets/72157626314645202/" target="_blank" rel="external">同事的人像</a>。然后就留在西安了。</p><p>据说按照招聘网站的职位搜索，<a href="http://www.sdtimes.com/link/35381" target="_blank" rel="external">DevOps是2010年的大热门</a>：虽说经常跟“Java”、“C”、“Ruby”之类的词汇同时出现，但“DevOps”是2010年增长最快的职位描述关键词。</p><p>然则，为什么<a href="http://book.douban.com/subject/2184883/" target="_blank" rel="external">OPs的书</a>我还是读不出乐趣来呢？<a href="http://en.wikipedia.org/wiki/Information_Technology_Infrastructure_Library" target="_blank" rel="external"><span class="caps">ITIL</span></a>这样的流程框架读起来实在是味同嚼蜡啊…</p><p>而且据<a href="http://devops.com/2011/03/22/exclusive-interview-with-devops_borat/" target="_blank" rel="external">@DEVOPS_BORAT</a>说，每个优秀的DevOps背后，都藏着一个被热妞拒绝的悲催故事。</p><pre>凌晨三点起来恢复系统有木有！！！新版本上线就当机有木有！！！敏捷！！！敏捷你妹啊！！！OP都是折翼的天使啊！！！你伤不起啊！！！伤不起啊！！！</pre><p>周六在<a href="http://www.xian-open-party.org/" target="_blank" rel="external">西安OpenParty</a>做了一个简单的DevOps介绍，还偶遇了<a href="http://www.outsofting.com/index.php?option=com_content&amp;view=article&amp;id=115&amp;Itemid=61&amp;lang=zh" target="_blank" rel="external">鲍老师</a>。其实说到DevOps的“怎么做”，很常用的<a href="http://devops.com/2011/03/08/devops-culture-hacks/" target="_blank" rel="external">引入变化的技巧</a>仍然适用：</p><ul><li>Start small and build on trust and safety</li><li>Create champions</li><li>Use metrics to build confidence</li><li>Celebrate success</li><li>Exploit compelling events</li></ul><p>有235人在用<a href="http://1.hourfor.me/" target="_blank" rel="external">1.HourFor.Me</a>，我也小celebrate一下。也～～</p>
      </p>

      <div class="post-list__meta">

        <time datetime="3月 28 2011" class="post-list__meta--date date">3月 28 2011</time> &#8226; 

        <span class="post-list__meta--tags tags">
          <font class="categories">
            
          </font>
          

        </span>
      </div>

      <hr class="post-list__divider" />
    </li>
    
    <li class="post">

      <h2 class="post-list__post-title post-title"><a href="/2011/3/18/devops-how-to-start/" title="link to DevOps- How To Start">DevOps- How To Start</a></h2>

      <p class="excerpt">
        <p></p><p>(Stolen from<a href="http://evan.bottch.com/" target="_blank" rel="external">Evan Bottcher</a>)</p><p><strong>How to assess the current situation?</strong></p><p>I would start by drawing a big visual map of the path from developer check-in to production,including the likelyintegration of multiple streams of work. Have the teams estimate the time taken in each stage,likely delaysetc. This can be quite enlightening when seen from a total value-stream view – as few peoplewill have thewhole picture at present.</p><p>Categorise time and effort as ‘value-add’ vs ‘non-value-add’. E.g. time inmanuallytesting from scripted scenarios is non-value-add as a computer could do it more quickly. Manualtesting forexploratory testing is probably value-add, if it is genuinely finding defects.</p><p>Metrics would be build times, deployment time, how long does it take to configure an environment. Howmanydefects are found, how many are true defects, how many are configuration and environment?</p><p><strong>How to shape an improvement plan for “last mile”?</strong></p><p>Need to prioritise areas of concern from your map of the path to production. Root cause analysisshould be doneto understand the cause of delays and defects. Spend some time setting a vision for what the bestpath toproduction would look like for the customer, and build out a set of steps to implement thosechanges. E.g.“shift to trunk development”, “train staff in continuous integration”,“automateself-service production-like environment”.</p><p><strong>Who is able to do this?</strong></p><p>Need to quickly understand the source control, development practices, deployment environment andarchitecture insufficient detail to be able to understand how to improve things. If it’s a unix targetenvironment, bestto understand something of that environment.</p><p>A generalised set of tools/tech/skills:</p><ul><li>automation (e.g. capistrano, ruby, bash, powershell etc.)</li><li>source control, and methods to do trunk development and deployments (feature toggles and branchbyabstraction)</li><li>configuration management – chef, puppet, whatever you can apply to windows servers if that’sinscope</li><li>understand the ops perspective – tools for monitoring, logging, plotting systemperformance andstability over time (nagios, ganglia, cactii in the open source area)</li></ul><p></p>

      </p>

      <div class="post-list__meta">

        <time datetime="3月 18 2011" class="post-list__meta--date date">3月 18 2011</time> &#8226; 

        <span class="post-list__meta--tags tags">
          <font class="categories">
            
          </font>
          

        </span>
      </div>

      <hr class="post-list__divider" />
    </li>
    
    <li class="post">

      <h2 class="post-list__post-title post-title"><a href="/2011/3/13/perfectionism/" title="link to 关于追求这件事">关于追求这件事</a></h2>

      <p class="excerpt">
        <p>有些事虽然你一直都知道它存在，但亲眼见到还是不一样，亲身感受到还是不一样。</p><p>比如说，一家标普300指数的IT企业，它的研发组织要求严格的TDD，要求100%的测试覆盖率，要求严苛的重构，连<a href="http://www.jslint.com/" target="_blank" rel="external">JavaScript都必须符合编码规范</a>。它的运维团队使用Chef和EC2。它的测试团队进行端到端的自动化测试。它的业务主管们跟程序员坐在一起画界面原型和定迭代计划。</p><p><img src="http://gigix.thoughtworkers.org/assets/2011/3/14/Picture_6.png" width="400px"></p><p>简而言之，他们做那些我们一直都知道是正确的事，并且坚持做，不找借口。</p><p>这才叫有所追求。</p><p>做能赚钱的事是不需要说的。谁都知道饿了要吃饭。所谓“以交付为核心”、“以达成任务为核心”这些话根本就是可笑：如果连交付都做不到，我为什么还要拿我的那份薪水？做到本来就理所应当被做到的事，不是有追求。</p><p>做正确的事当我能看到收益的时候，这也是不需要说的。地上掉了钱谁都知道要拣起来。只要吃下药去就能治病，这个时候不吃的人是傻子。仅仅不做傻子，不是有追求。</p><p>（当然还有一种可爱的态度是：做不到、做起来有困难的事就赶快贴上个“不可能”的标签然后心安。之所以它是可爱的，因为那不像成年人应该有的态度。）</p><p>所谓有追求，就是即使这件事做下去不会马上看到收益，甚至收益都不会体现在自己身上，但我知道这件事是对的，我就应该坚持做，不找借口。做不到的时候就承认做不到，然后向别人学习，希望自己下次能做到。</p><p>说到底，交付这件事，据说是只要有一帮中专生到北大青鸟培训六个月就可以干的。那么不追求把代码写写好，我去谈什么“以交付为核心”到底有什么意思呢？</p><p>就像我跟小朋友说的，如果你只想满足于交付收钱的话，那你真的会有麻烦，因为中国会写程序会交付的人有太多而且他们比你便宜太多。</p>
      </p>

      <div class="post-list__meta">

        <time datetime="3月 13 2011" class="post-list__meta--date date">3月 13 2011</time> &#8226; 

        <span class="post-list__meta--tags tags">
          <font class="categories">
            
          </font>
          

        </span>
      </div>

      <hr class="post-list__divider" />
    </li>
    
    <li class="post">

      <h2 class="post-list__post-title post-title"><a href="/2011/3/12/devops-readings/" title="link to 这个春天，我感觉运维们鸭梨很大">这个春天，我感觉运维们鸭梨很大</a></h2>

      <p class="excerpt">
        <p><strong>壹、穷人的EC2自动快照</strong></p><p>用两个简单的shell脚本加一个crontab就能每周（如果你愿意的话，每天也可以）备份EC2的机器。今天在Ubuntu上玩各种东西把环境玩复杂化以后，发现这个脚本蛮有用。</p><p>话说，实在没有什么理由，不到EC2搞台机器放自己的博客兼作翻墙梯啊…</p><p><strong>贰、挪亚，不是方舟</strong></p><p>这位John Vincent同志写了<a href="http://lusislog.blogspot.com/2011/03/ad-hoc-configuration-coordination-and.html" target="_blank" rel="external">一篇博客</a>论述…嗯，为什么有Chef和Puppet还不够。</p><p>Chef和Puppet管理有计划的变更，但你经常会做无计划的<a href="http://dev2ops.org/blog/2011/2/16/peanut-butter-in-my-chocolate-convergence-vs-ad-hoc-control.html" target="_blank" rel="external">偶发变更</a>，而且你不太希望每次变更重启都得重启服务。所以，Vincent桑说，你需要…</p><blockquote>Distributed coordination, dynamically reconfigurable code, elasticity and environment-awareapplications.</blockquote><p>然则，看完<a href="https://github.com/lusis/noah" target="_blank" rel="external">Noah的README</a>就知道了。这就是RESTful的RMI…好吧，正确的思想永远都用得上，而且RESTful总比RMI要好那么一点点。</p><p><strong>叁、飞禽走兽们</strong></p><p><a href="http://www.nagios.org/" target="_blank" rel="external">Nagios</a>是老牌的监控工具，十多年历史了。</p><p><a href="http://hadoop.apache.org/" target="_blank" rel="external">Hadoop</a>这里好玩的东西不少，<a href="http://hadoop.apache.org/hdfs/" target="_blank" rel="external">分布式文件系统</a>，<a href="http://hadoop.apache.org/mapreduce/" target="_blank" rel="external">MapReduce</a>，还有<a href="http://zookeeper.apache.org/" target="_blank" rel="external">重新发明轮子的ZooKeeper</a>。</p><p><a href="http://www.sinatrarb.com/" target="_blank" rel="external">Sinatra</a>，快速做一个web server，不需要Rails那么庞大，比WEBrick容易写。</p><p><a href="http://redis.io/" target="_blank" rel="external">Redis</a>，又一个key-value store。加上<a href="http://ohm.keyvalue.org/" target="_blank" rel="external">Ohm</a>，好了，NoSQL的对象持久化。</p><p>看一遍<a href="https://github.com/lusis/Noah/wiki/Example-Use-Cases" target="_blank" rel="external">Noah的使用场景</a>，感到运维们鸭梨很大。</p><p>（还有一本<a href="http://goo.gl/oVgbx" target="_blank" rel="external">Hadoop的书</a>可我今天看不着…等明天翻墙再说吧。）</p><p><strong>肆、来点音乐</strong></p><p><a href="http://mad.emotionull.com/" title="MAD" target="_blank" rel="external">Music as Data</a>is a live programming language/environment based on Processing.org written in Clojure. It’ssomething likeSuperCollider or Chuck but aims to be easier to hack/experiment live.</p><p>我喜欢他的网站。简约而不简单。</p>
      </p>

      <div class="post-list__meta">

        <time datetime="3月 12 2011" class="post-list__meta--date date">3月 12 2011</time> &#8226; 

        <span class="post-list__meta--tags tags">
          <font class="categories">
            
          </font>
          

        </span>
      </div>

      <hr class="post-list__divider" />
    </li>
    
    <li class="post">

      <h2 class="post-list__post-title post-title"><a href="/2011/3/2/chef-3-first-cookbook/" title="link to Chef学习手记之叁：红宝石菜谱">Chef学习手记之叁：红宝石菜谱</a></h2>

      <p class="excerpt">
        <p>有了一台<a href="http://gigix.thoughtworkers.org/2011/2/20/chef-2-rails-server">基本的服务器</a>，现在我就要在上面配置Rails服务器。当然这件事已经有人干过了，但我不想用别人的菜谱，再怎么说我也是<a href="http://rubyworks.rubyforge.org" target="_blank" rel="external">RubyWorks</a>的开发者…</p><p>（还有，我觉得Fedora还是不如Ubuntu好用，所以我偷偷把EC2的机器换成了Ubuntu 10.04。）</p><p><img src="http://gigix.thoughtworkers.org/assets/2011/3/2/ruby-chef.jpg" width="300px"></p><p>新建一个菜谱真容易，用knife一下子就搞定了：</p><pre>$ knife cookbook create my_rails_gig</pre><p>菜谱放在 #{chef-repo}/cookbooks/my_rails_gig 下面。首先要看的是 recipes/default.rb，缺省菜色的做法就写在里面。在我开始做自己的配置之前，我得先保证Apache和<a href="http://www.modrails.com/" target="_blank" rel="external">Passenger</a>都配好了。</p><pre># default.rbinclude_recipe “passenger_apache2::mod_rails”</pre><p>然后涅，我要用“railsapp”这个用户来部署Rails应用──不可以用root来跑服务。所以我得确保有这个用户（以及它独占的一个组）。</p><pre># default.rbgroup ‘rails’ dogroup_name ‘rails’action :createenduser ‘railsapp’ dousername ‘railsapp’action :createend</pre><p>接下来，按照我们RubyWorks的传统，Rails应用应该部署在 /var/rails 目录下面。所以要确保有这个目录。</p><pre># default.rbdeploy_to = ‘/var/rails’directory deploy<em>to doowner “railsapp”group “rails”mode “0755”action :createend</em></pre><p>现在是最挑战的部分：配置Passenger…但是只要是像我一样经验丰富的Rails服务器管理员，这个也小菜一碟<sup></sup><a href="http://cookbooks.opscode.com/cookbooks/apache2" target="_blank" rel="external">Apache2那本菜谱</a>讲了怎么在Apache里做web_app，你只要调用就行：</p><pre># default.rbweb_app ‘rails_app’ dotemplate “rails_app.conf.erb”docroot “#{deploy_to}/current/public”server_name “#{MY_COOL_HOSTNAME}”rails_env ‘production’end</pre><p>唯一的trick就是<a href="http://gigix.thoughtworkers.org/assets/2011/3/2/rails_app.conf.erb">rails_app.conf.erb</a>这个template：我需要把它放在 templates/default 目录下（规则和Rails有点像）。别的么…就再没啥啦～～（不信就<a href="http://gigix.thoughtworkers.org/assets/2011/3/2/default.rb">看代码</a>）噢对了，别忘了在这台机器的角色里加上新的菜色：</p><pre>“run_list”: [“recipe[passenger_apache2::mod_rails]”,”recipe[my_rails_gig]”],</pre><p>噢也～菜谱写完开始做菜～先把菜谱上传到服务器：</p><pre>$ knife cookbook upload my_rails_gig</pre><p>再跑到我的服务器上执行一下 chef-client …这就好了。用 railsapp 用户到 /var/rails/current 下面建一个应用（为什么要“current”？问<a href="https://github.com/capistrano/capistrano/wiki/" target="_blank" rel="external">Capistrano</a>）。浏览器访问80端口，看后台日志，Rails已经开始工作了。</p><p>嗯，虽说写自己的菜谱挺好玩的，不过<a href="http://cookbooks.opscode.com/cookbooks/application" target="_blank" rel="external">这个菜谱</a>很值得学习──其实很多菜谱都值得学习，所以…</p><p><em>（未完待续）</em></p>
      </p>

      <div class="post-list__meta">

        <time datetime="3月 2 2011" class="post-list__meta--date date">3月 2 2011</time> &#8226; 

        <span class="post-list__meta--tags tags">
          <font class="categories">
            
          </font>
          

        </span>
      </div>

      <hr class="post-list__divider" />
    </li>
    
    <li class="post">

      <h2 class="post-list__post-title post-title"><a href="/2011/2/28/show-off-too/" title="link to Show-off Too">Show-off Too</a></h2>

      <p class="excerpt">
        <p><a href="http://www.flickr.com/photos/gigix/5485588718/" title="ThoughtWorks Go Beyond Agile by Gigix, on Flickr" target="_blank" rel="external"><img src="http://farm6.static.flickr.com/5260/5485588718_ae3184ecd0.jpg" width="332" height="500" alt="ThoughtWorks Go Beyond Agile"></a></p><p>我也会画～～</p>
      </p>

      <div class="post-list__meta">

        <time datetime="2月 28 2011" class="post-list__meta--date date">2月 28 2011</time> &#8226; 

        <span class="post-list__meta--tags tags">
          <font class="categories">
            
          </font>
          

        </span>
      </div>

      <hr class="post-list__divider" />
    </li>
    
    <li class="post">

      <h2 class="post-list__post-title post-title"><a href="/2011/2/27/program-me/" title="link to Program? Me?">Program? Me?</a></h2>

      <p class="excerpt">
        <p>这也不是新鲜事。这也不是中国特色。从前听的版本有几个：</p><ul><li>业务分析师是不会写程序的。（所以<a href="http://cukes.info/" target="_blank" rel="external">Cucumber</a>写出来要像自然语言。）</li><li>测试人员是不会写程序的。（所以<a href="http://seleniumhq.org/projects/ide/" target="_blank" rel="external">Selenium要有IDE</a>。）</li><li>界面设计人员是不会写程序的。（所以我们还得有个叫“前端程序员”的人用HTML+CSS把图片做成页面。）</li><li>项目经理是不会写程序的。（这个，大家都习以为常了…）</li></ul><p>现在最新的版本是：系统管理员是不会写程序的，所以<a href="http://projects.puppetlabs.com/projects/puppet" target="_blank" rel="external">Puppet</a>比<a href="http://www.opscode.com/chef/" target="_blank" rel="external">Chef</a>要好那么一点点（TWers请看这两天twswdev上的讨论），因为Puppet是声明性的DSL而Chef直接就是Ruby代码。Ruby代码会把笨笨的系统管理员吓倒云云。</p><p><img src="http://gigix.thoughtworkers.org/assets/2011/2/27/42-26194850.jpg" alt=""></p><p>扯淡。</p><p>所有这些人，只要还在从事软件开发相关的工作，他们都需要描述抽象的概念、把概念分别组织、用合适的词汇使概念描述可懂、关注概念中易变的部分和不变的部分、抽取概念中的共性、消除概念描述的重复。这个，就是编程。你可以逃避它，你可以拒绝学习它，但当你认真对待它，当你把它做好了，这就是编程。那时候你就会发现，Ruby是一种具有强大表现力因此更贴心的编程语言，<a href="http://christeso.com/why-i-never-design-a-site-in-photoshop" target="_blank" rel="external"><span class="caps">HTML</span>+CSS是比Photoshop更适合描述界面的语言</a>。</p><p>重点在于：如果你一直在用一种并非设计用于描述大量复杂抽象信息的表达方式来描述大量复杂抽象信息，你为什么不去学会一种本来就设计用来干这个的工具呢──那就是编程语言；另一方面，如果你并没有在描述大量复杂抽象信息，很可能你的工作可以被一个脚本取代。</p><p>毕竟，从前的系统管理员都是Perl和Shell的高手。现在突然说他们不会编程，这个对我来说实在太突兀了。</p>
      </p>

      <div class="post-list__meta">

        <time datetime="2月 27 2011" class="post-list__meta--date date">2月 27 2011</time> &#8226; 

        <span class="post-list__meta--tags tags">
          <font class="categories">
            
          </font>
          

        </span>
      </div>

      <hr class="post-list__divider" />
    </li>
    
    <li class="post">

      <h2 class="post-list__post-title post-title"><a href="/2011/2/22/jason-furnell/" title="link to 与Jason神的近距离接触">与Jason神的近距离接触</a></h2>

      <p class="excerpt">
        <p></p><p>跟<a href="http://www.jasonfurnell.com/" target="_blank" rel="external">Jason Furnell</a>一起工作两天了。明天还有一天。<a href="http://www.tuzei8.com/" target="_blank" rel="external">小熊</a>嫉妒得口水都要掉下来。</p><pre>me: 哎我给你讲他教画画的方法嘛我觉得多好的Zichuan: 废话Jason神偶像</pre><p><img src="http://www.jasonfurnell.com/Images/jason.gif"></p><p>那，到底好在哪里呢？他一上来不是说要分析需求或者要设计什么东西，先拿出一大堆笔，每人四支：细的水笔，粗一点的水笔，灰色马克笔，黄色马克笔。每人一张白纸。不要着急，其实每个人都可以画画：</p><ol><li>先拿细笔，在纸上画几个方框的<strong>轮廓</strong>，方框之间可以有重叠之类的。画好，大家展示。把纸传给左边的人。</li><li>再拿粗笔，在纸上框出一块你认为是<strong>主体</strong>的区域。画好，大家展示，哎，有点主题的感觉了。把纸传给左边的人。</li><li>再拿黄色马克笔，涂一块你想要<strong>特别强调</strong>的区域。画好，大家展示，隔着整张桌子都能看出对面的高亮。把纸传给左边的人。</li><li>最后拿灰色马克笔，把主体区域之外的区域涂成灰色<strong>背景</strong>。画好，大家展示，不仅有重点，而且有立体感。</li></ol><p>画画（而且是团队协作画画）就是这么简单。然后每个人再拿一张纸，纸上已经预先打好了六个方框。现在往方框里画你脑子里想到的东西：苹果，汽车，系统架构，业务流程……随便什么。唯一的讲究：要照刚才讲的方式来使用笔，四种笔都要用到。</p><p>十分钟的绘画课，一桌子人就开始有模有样地设计用户交互了。下午有新同学加入，没上过早上的绘画课，那画的水平真的要差一截也。不得不对Jason神油然而生仰慕。</p><p><img src="http://gigix.thoughtworkers.org/assets/2011/2/22/sketches.jpg" width="400px"></p><p>真正商业分析的部分，参考<a href="http://book.douban.com/subject/4280621/" target="_blank" rel="external">Business Model Generation</a>。Jason在会议室把<a href="http://jasonfurnell.files.wordpress.com/2010/12/business_model_canvas_facilitator_cards1.pdf" target="_blank" rel="external"><span class="caps">BMC</span>卡片</a>一贴出来，那华丽丽的气势，只能感叹是神一般的存在啊～～</p><pre>me: Jason神还抽了我的烟～三根～Zichuan: 。。。。。。。。。me: 你没办法跟他share烟萨？你又不抽烟Zichuan: 我学我下次带条芙蓉王去</pre><p></p>

      </p>

      <div class="post-list__meta">

        <time datetime="2月 22 2011" class="post-list__meta--date date">2月 22 2011</time> &#8226; 

        <span class="post-list__meta--tags tags">
          <font class="categories">
            
          </font>
          

        </span>
      </div>

      <hr class="post-list__divider" />
    </li>
    
    <li class="post">

      <h2 class="post-list__post-title post-title"><a href="/2011/2/20/chef-2-rails-server/" title="link to Chef学习手记之贰：基本套餐">Chef学习手记之贰：基本套餐</a></h2>

      <p class="excerpt">
        <p>现在我要配置一台体面的Rails服务器。也许我会用它来跑<a href="http://1.hourfor.me" target="_blank" rel="external">1.HourFor.me</a>。</p><p>要配置一台Rails服务器，首先要有一台服务器。于是我到<a href="http://aws.amazon.com/ec2/" target="_blank" rel="external"><span class="caps">EC2</span></a>搞了一台服务器。EC2之于DevOps就像SourceForge之于轻量级J2EE：它让你有机会去尝试那些原来只有在超级大企业里才会出现的东西。你可以在自己家里、在业余时间积累经验，而且不花多少钱。我装了一台Fedora8的机器。</p><p>在<a href="http://gigix.thoughtworkers.org/2011/2/19/chef-1">学习手记之壹</a>里我说需要有一个Chef服务器。其实Chef有三种运行的方式：你自己装Chef服务器；压根不要Chef服务器（叫<a href="http://wiki.opscode.com/display/chef/Chef+Solo" target="_blank" rel="external">Chef Solo</a>）；或者用OpsCode做你的Chef服务器。第三种方式蛮好，又不用自己多架台服务器，又可以在世界任何地方共享我的大餐。所以我就要这样做。</p><p><img src="http://gigix.thoughtworkers.org/assets/2011/2/20/cakes_1.jpg" width="300px"></p><p>首先要在OpsCode注册，并创建一个组织（organization）。这部分蛮简单，照着网站的指示一步步做就行了。我创建了一个叫“thoughtworkers”的组织。创建组织的时候小心，有免费的plan可以用的。我现在还不需要收费plan那么强的功能。</p><p>紧跟着要搞定开发环境。我要在自己的机器上建一个<a href="http://wiki.opscode.com/display/chef/Chef+Repository" target="_blank" rel="external">Chef Repository</a>，配置与Chef服务器连接的身份认证信息。基本上，按照<a href="http://wiki.opscode.com/display/chef/Quick+Start#QuickStart-SettingUpTheUserEnvironment" target="_blank" rel="external">这个文档</a>来操作就可以了。</p><p>接下来要在EC2那台Fedora机器上安装Chef客户端。这也蛮简单，也有<a href="http://wiki.opscode.com/display/chef/Installation+with+RubyGems" target="_blank" rel="external">一个文档</a>。其实关键就是要把RubyGems升级到1.3.7以上，然后就可以“gem installchef”啦。装好之后执行一下“chef-client”，应该会报错，需要从本地环境拷贝/etc/chef下面的client.rb和validation.pem去Fedora机器上。</p><p>现在可以写程序咯～在ChefRepository下面的roles目录里建一个base.json文件。先不管是Rails服务器还是Django服务器，我的体面服务器必须满足一些基本条件，比如有GCC啦，有Git啦，之类的。所以我在base.json里这样描述我的体面服务器：</p><pre>{“name”: “base”,”default_attributes”: {“chef”: {“server_url”: “<a href="https://api.opscode.com/organizations/thoughtworkers&quot;,&quot;cache_path" target="_blank" rel="external">https://api.opscode.com/organizations/thoughtworkers&quot;,&quot;cache_path</a>“: “/var/chef/cache”,”backup_path”: “/var/chef/backup”,”validation_client_name”: “thoughtworkers-validator”,”run_path”: “/var/chef”}},”json_class”: “Chef::Role”,”run_list”: [“recipe[build-essential::default]”,”recipe[openssl::default]”,”recipe[chef::client]”,”recipe[chef::delete_validation]”,”recipe[git::default]”],”description”: “Basic Server”,”chef_type”: “role”,”override_attributes”: {}}</pre><p>然后涅…那台Fedora机器咋知道它自己应该有“base”这个角色呢？当然答案是它不知道。我得告诉它。<a href="http://wiki.opscode.com/display/chef/Knife" target="_blank" rel="external">Knife</a>是Chef的便利命令行工具。比如说，可以列出所有可管的节点（必须在Chef Repository目录下）：</p><pre>$ knife node list# 下面是输出回显[“ip-10-130-9-17.ap-southeast-1.compute.internal”,”jeffxiong3650”]</pre><p>有两台机器。下面这个是我自己的笔记本电脑，上面那个名字很长的就是在EC2的Fedora。我要让它知道，自己有“base”这个角色要扮演：</p><pre>$ knife node run_list add \ip-10-130-9-17.ap-southeast-1.compute.internal “role[base]”# 下面是输出回显{“run_list”: [“role[base]”]}</pre><p>好乖～现在ssh登录到Fedora上去，执行一把“chef-client”…体面的服务器就这样装好啦～试试git，没问题的说～嗯嗯，当然这只是第一步。接下来要配置好体面的Rails服务器才行呢。</p><p><em>（未完待续）</em></p>
      </p>

      <div class="post-list__meta">

        <time datetime="2月 20 2011" class="post-list__meta--date date">2月 20 2011</time> &#8226; 

        <span class="post-list__meta--tags tags">
          <font class="categories">
            
          </font>
          

        </span>
      </div>

      <hr class="post-list__divider" />
    </li>
    
    <li class="post">

      <h2 class="post-list__post-title post-title"><a href="/2011/2/19/chef-1/" title="link to Chef学习手记之壹：概念">Chef学习手记之壹：概念</a></h2>

      <p class="excerpt">
        <p><a href="http://www.opscode.com/chef/" target="_blank" rel="external">Chef</a>据说是<a href="http://zh.wikipedia.org/wiki/DevOps" target="_blank" rel="external">DevOps</a>运动中的一个重要工具。现在我开始学它了。</p><p>首先是几个名词解释：</p><ul><li><strong>Chef</strong>: 大厨。我就是个新手大厨。我想要烹调一桌服务器大餐，也就是一台体面的、可以用来满足某种用途的服务器，比如“一台高性能的Rails服务器”。</li><li><strong>Cookbook</strong>: 菜谱。别人写好的一本书，书上写着一堆相关菜色的做法（比如“家常川菜”）。一些出色的服务器大厨已经写了<a href="http://cookbooks.opscode.com/" target="_blank" rel="external">很多菜谱</a>，这些是我要学习和抄袭的。</li><li><strong>Recipe</strong>：菜谱里的一道菜色（比如“麻婆豆腐”）。服务器大餐里的某一部分该怎么做，都在菜色里写着呢。</li></ul><p>所以，整个故事就是：作为一个服务器大厨（Chef），我想要从现成的很多菜谱（Cookbook）里挑选几道合适的菜色（Recipe），组合成一道大餐（服务器）来款待我的客人。</p><p>（等我的手艺熟练之后我还会写我自己的菜色和菜谱，这就是后面的故事了。）</p><p><img src="http://tucsoncitizen.com/morgue/files/2007/02/l42507-1.jpg" width="300px"></p><p>Chef的主要目标是：把服务器配置变成源代码。这样做的好处有两个：</p><ol><li><strong>自动化</strong>。我可以很轻松地把一台服务器大餐的做法直接照搬到另一台服务器上，于是我就得到了另一台大餐。</li><li><strong>配置管理</strong>。服务器的配置信息可以用SVN或者Git来管理，可以分享，可以多人协作，可以跟踪变化历史。</li></ol><p>Chef使用服务器-客户端模式管理所有需要配置的机器。使用Chef涉及至少三台机器：一台开发机器，我会在上面编写大餐的做法；一台Chef服务器，它会管理所有要配置的机器，给它们下发配置信息；至少一台Chef客户端或“节点”（Node），它就是我要烹调的大餐。</p><p>理论上，只要支持Ruby的操作系统，都可以作为Chef节点来管理。不过<a href="http://en.wikipedia.org/wiki/Comparison_of_open_source_configuration_management_software#Platform_support" target="_blank" rel="external">认真说起来</a>，AIX、HP-UX和Windows不能算真的支持（个人认为这些到了21世纪10年代还没有体面的<a href="http://en.wikipedia.org/wiki/Package_management_system" target="_blank" rel="external">包管理工具</a>的操作系统就应该自己去死）。另外，每个Cookbook对操作系统的支持也可能不同。我大概看了一下，Ubuntu和Debian应该是被支持得比较好的（再次说明一个体面的包管理工具有多重要）。</p><p>概念就是这些了。接下来我要自己动手做一顿服务器大餐。</p><p><em>（未完待续）</em></p>
      </p>

      <div class="post-list__meta">

        <time datetime="2月 19 2011" class="post-list__meta--date date">2月 19 2011</time> &#8226; 

        <span class="post-list__meta--tags tags">
          <font class="categories">
            
          </font>
          

        </span>
      </div>

      <hr class="post-list__divider" />
    </li>
    
  </ol>

  <hr class="post-list__divider " />

<nav class="pagination" role="navigation">
    
    	
          <a class="newer-posts pagination__newer btn btn-small btn-tertiary" href="/page/18/">&larr; Newer Posts</a>
        
    

    <span class="pagination__page-number">Page 19 of 52</span>
    
    
        <a class="older-posts pagination__older btn btn-small btn-tertiary" href="/page/20/">Older Posts &rarr;</a>
    
</nav>


</div>
            <footer class="footer">
    <span class="footer__copyright">&copy;
        2016
        Transparent Thoughts. All rights reserved.</span>
</footer>
        </div>
    </div>

    <!-- The main JavaScript file for Casper -->
    <script src="/js/main.js"></script>
    <script src="/js/scale.fix.js"></script>
    <script src="/js/jquery.imagesloaded.min.js"></script>
    <script src="/js/gallery.js"></script>
    <script src="/js/jquery.githubRepoWidget.min.js"></script>
    <script type="text/javascript"
            src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config"> 
      MathJax.Hub.Config({ 
        tex2jax: {inlineMath: [['[latex]','[/latex]'], ['\\(','\\)']]} 
    }); 

    </script>

    <!--kill ie6 -->
    <!--[if IE 6]>
    <script src="//letskillie6.googlecode.com/svn/trunk/2/zh_CN.js"></script>
    <![endif]-->

    <!--  google analytics -->
    <script>
        // add your google analytics code here
    </script>

    <!-- totop -->
    <div id="totop" style="position:fixed;bottom:50px;right:30px;cursor: pointer;">
        <a title="back to top"><img style="width:30px;height:30px;" src="/images/totop.png"/></a>
    </div>
    <script>
        (function ($) {
            var upperLimit = 100;
            var scrollElem = $('#totop');
            var scrollSpeed = 500;
            scrollElem.hide();
            $(window).scroll(function () {
                var scrollTop = $(document).scrollTop();
                if (scrollTop > upperLimit) {
                    $(scrollElem).stop().fadeTo(300, 1); // fade back in
                } else {
                    $(scrollElem).stop().fadeTo(300, 0); // fade out
                }
            });
            $(scrollElem).click(function () {
                $('html, body').animate({scrollTop: 0}, scrollSpeed);
                return false;
            });
        })(jQuery);
    </script>

    <!-- fancybox -->
    
    <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
    <script src="/fancybox/jquery.fancybox.pack.js"></script>
    <script type="text/javascript">
        (function ($) {
            $('.fancybox').fancybox();
        })(jQuery);
    </script>
    

    <!-- Google Analytics -->
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-113927-4', 'auto');
        ga('send', 'pageview');
    </script>

    <!-- CNZZ Analytics -->
    <script src="http://s4.cnzz.com/z_stat.php?id=1255092465&web_id=1255092465" language="JavaScript"></script>

</body>
</html>
